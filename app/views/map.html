<div id="map-container" ng-class="(getMapZoomLevel() < 9) ? 'map-zoomed-out' : 'map-zoomed-in'">
 <div ng-include="'/views/map-region.html'"></div>

<map resizeMap id="map" class="map" map-type-id="roadmap"
    center="{{mapCoordinates}}"
    zoom="{{mapZoom}}"
    styles="{{mapStyles}}"
    map-type-control="false"
    pan-control="false"
    street-view-control="false"
    zoom-control="false">

<!--   <marker
    position="{{bottomBounds}}"
    on-mouseup="changeBottomBounds()"
    draggable="true"
    />

  <marker
    position="{{topBounds}}"
    on-mouseup="changeTopBounds()"
    draggable="true"
    /> -->

<!--   <marker
    position="{{otherBounds}}"
    on-mouseup="changeOtherBounds()"
    draggable="true"
    /> -->



  <shape ng-if="getMapZoomLevel() < 8" name="image"
    url="/images/NY_state.svg"
    bounds="{{mapBounds}}"
    on-click="regionClick(event)"
   >
  </shape>

<!--   <shape name="polygon" ng-if="getMapZoomLevel() < 10" on-click="showArrays()"
  paths="{{nyShape}}" stroke-color="#000000" stroke-opacity="0.8" stroke-weight="2" fill-color="#d0bea0" fill-opacity="0.6">
  </shape> -->

<!--   <shape on-click="regionClick()" name="circle" ng-repeat="region in regions"
    stroke-color="#FF0000"
    stroke-opacity="0.8"
    stroke-weight="2"
    fill-color="#FF0000"
    fill-opacity="0.35"
    center="{{region.position}}"
    region="{{region}}"
    radius="20000">
  </shape> -->

  <marker
    class="marker-winery"
    ng-repeat="venue in wineries"
    on-click="showVenueOverlay(event,{{venue}})"
    ng-if="getMapZoomLevel() >= 8 && !hideWineries"
    position="{{venue.coordinates}}"
    icon="/images/marker-winery.png"
    >
  </marker>

  <marker
    ng-repeat="venue in restaurants"
    on-click="showVenueOverlay(event,{{venue}})"
    ng-if="getMapZoomLevel() >= 8 && !hideRestaurants"
    position="{{venue.coordinates}}"
    title="{{venue.name}}"
    icon="/images/marker-restaurant.png"
    >
  </marker>

  <marker
    ng-repeat="venue in attractions"
    on-click="showVenueOverlay(event,{{venue}})"
    ng-if="getMapZoomLevel() >= 8 && !hideAttractions"
    position="{{venue.coordinates}}"
    title="{{venue.name}}"
    icon="/images/marker-attraction.png"
    >
  </marker>

  <marker
    ng-repeat="venue in hotels"
    on-click="showVenueOverlay(event,{{venue}})"
    ng-if="getMapZoomLevel() >= 8 && !hideHotels"
    position="{{venue.coordinates}}"
    title="{{venue.name}}"
    icon="/images/marker-hotel.png"
    >
  </marker>
</map>
<div ng-include="'/views/map-controls.html'"></div>
<div ng-include="'/views/map-overlay.html'"></div>

<div class="map-filters">
  <button ng-class="{active:!hideWineries}" class="wineries" type="button" ng-click="toggleMarkers('wineries')">Wineries</button>
  <button ng-class="{active:!hideHotels}" class="hotels" type="button" ng-click="toggleMarkers('hotels')">Hotels</button>
  <button ng-class="{active:!hideRestaurants}" class="restaurants" type="button" ng-click="toggleMarkers('restaurants')">Restaurants</button>
  <button ng-class="{active:!hideAttractions}" class="attractions" type="button" ng-click="toggleMarkers('attractions')">Attractions</button>
</div>

